{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Web\\\\FrontEnd\\\\src\\\\contexts\\\\DepartmentContext.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { createContext, useReducer } from \"react\";\nimport { departmentReducer } from '../reducers/departmentReducer';\n//import { apiUrl, LOCAL_STORAGE_TOKEN_NAME } from \"./constants\";\nimport axios from \"axios\";\nimport { apiUrl } from './constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DepartmentContext = /*#__PURE__*/createContext();\nconst DepartmentContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [departSate, dispatch] = useReducer(departmentReducer, {\n    departments: [],\n    one_department: '',\n    departmentsLoading: true\n  });\n\n  //Get all departments\n  const getAllDepartments = async () => {\n    try {\n      const response = await axios.get(`${apiUrl}/depart/departments`);\n      if (response.data.allDepartments) {\n        console.log(\"data luu payload\", response.data.allDepartments);\n        dispatch({\n          type: 'DEPARTMENT_LOAD_SUCCESS',\n          payload: response.data.allDepartments\n        });\n      }\n    } catch (error) {\n      dispatch({\n        type: 'DEPARTMENT_LOAD_FAIL'\n      });\n    }\n  };\n  const addNewDepartment = async departForm => {\n    try {\n      const response = await axios.post(`${apiUrl}/depart/addDepart`, departForm);\n      console.log(\"data\", response);\n      if (response) dispatch({\n        type: 'ADD_NEW_DEPARTMENT',\n        payload: response\n      });\n      return response;\n    } catch (error) {\n      if (error.response.data) return error.response.data;else return {\n        success: false,\n        message: \"Server Error\"\n      };\n    }\n  };\n  const update_Department = async (_id, departForm) => {\n    const response = await axios.put(`${apiUrl}/depart/` + _id, departForm);\n    console.log(\"data get\", response);\n    return response;\n  };\n  const deleteDepart = async _id => {\n    const response = await axios.delete(`${apiUrl}/depart/` + _id);\n    console.log(\"data\", response);\n    return response;\n  };\n  const getDepartmentById = async _id => {\n    try {\n      const response = await axios.get(`${apiUrl}/depart/` + _id);\n      console.log('data depart get: ', response.data.department);\n      if (response.data.department) {\n        dispatch({\n          type: 'GET_AN_DEPARTMENT',\n          payload: response.data.department\n        });\n      }\n    } catch (error) {\n      dispatch({\n        type: 'GET_DEPARTMENT_FAIL'\n      });\n    }\n  };\n  const DepartmentContextData = {\n    departSate,\n    getAllDepartments,\n    getDepartmentById,\n    addNewDepartment,\n    update_Department,\n    deleteDepart\n  };\n  return /*#__PURE__*/_jsxDEV(DepartmentContext.Provider, {\n    value: DepartmentContextData,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n};\n_s(DepartmentContextProvider, \"xuFeT8rfcGbHtP5hkMNkIpSf6L0=\");\n_c = DepartmentContextProvider;\nexport default DepartmentContextProvider;\nvar _c;\n$RefreshReg$(_c, \"DepartmentContextProvider\");","map":{"version":3,"names":["React","createContext","useReducer","departmentReducer","axios","apiUrl","jsxDEV","_jsxDEV","DepartmentContext","DepartmentContextProvider","_ref","_s","children","departSate","dispatch","departments","one_department","departmentsLoading","getAllDepartments","response","get","data","allDepartments","console","log","type","payload","error","addNewDepartment","departForm","post","success","message","update_Department","_id","put","deleteDepart","delete","getDepartmentById","department","DepartmentContextData","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/Web/FrontEnd/src/contexts/DepartmentContext.js"],"sourcesContent":["import React from 'react'\nimport { createContext, useReducer } from \"react\";\nimport { departmentReducer } from '../reducers/departmentReducer';\n//import { apiUrl, LOCAL_STORAGE_TOKEN_NAME } from \"./constants\";\nimport axios from \"axios\";\nimport { apiUrl } from './constants';\n\n\nexport const DepartmentContext = createContext()\nconst DepartmentContextProvider = ({ children }) => {\n    const [departSate, dispatch] = useReducer(departmentReducer, {\n        departments: [],\n        one_department: '',\n        departmentsLoading: true,\n\n    })\n\n    //Get all departments\n    const getAllDepartments = async () => {\n        try {\n            const response = await axios.get(`${apiUrl}/depart/departments`)\n            if (response.data.allDepartments) {\n                console.log(\"data luu payload\", response.data.allDepartments)\n                dispatch({ type: 'DEPARTMENT_LOAD_SUCCESS', payload: response.data.allDepartments })\n            }\n        } catch (error) {\n            dispatch({ type: 'DEPARTMENT_LOAD_FAIL' })\n        }\n    }\n\n    const addNewDepartment = async departForm => {\n        try {\n            const response = await axios.post(`${apiUrl}/depart/addDepart`, departForm)\n            console.log(\"data\", response)\n            if (response)\n                dispatch({ type: 'ADD_NEW_DEPARTMENT', payload: response })\n            return response\n        } catch (error) {\n            if (error.response.data)\n                return error.response.data\n            else return { success: false, message: \"Server Error\" }\n        }\n    }\n\n    const update_Department = async (_id, departForm) => {\n        const response = await axios.put(`${apiUrl}/depart/` + _id, departForm)\n        console.log(\"data get\", response)\n        return response\n    }\n\n\n    const deleteDepart = async (_id) => {\n        const response = await axios.delete(`${apiUrl}/depart/` + _id)\n        console.log(\"data\", response)\n        return response\n    }\n\n    const getDepartmentById = async (_id) => {\n        try {\n            const response = await axios.get(`${apiUrl}/depart/` + _id)\n            console.log('data depart get: ', response.data.department)\n            if (response.data.department) {\n                dispatch({ type: 'GET_AN_DEPARTMENT', payload: response.data.department })\n            }\n        }\n        catch (error) {\n            dispatch({ type: 'GET_DEPARTMENT_FAIL' })\n        }\n    }\n\n\n    const DepartmentContextData = { departSate, getAllDepartments, getDepartmentById, addNewDepartment, update_Department, deleteDepart }\n\n    return (\n        <DepartmentContext.Provider value={DepartmentContextData} >\n            {children}\n        </DepartmentContext.Provider>\n    )\n}\n\nexport default DepartmentContextProvider"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}