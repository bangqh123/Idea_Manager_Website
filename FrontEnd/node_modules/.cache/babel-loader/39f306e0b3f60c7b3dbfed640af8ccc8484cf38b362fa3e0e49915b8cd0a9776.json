{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Web\\\\FrontEnd\\\\src\\\\contexts\\\\BlogContext.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer, createContext } from \"react\";\nimport { blogReducer } from '../reducers/blogReducer';\n//import { apiUrl, LOCAL_STORAGE_TOKEN_NAME } from \"./constants\";\nimport axios from \"axios\";\nimport { apiUrl, LOCAL_STORAGE_TOKEN_NAME } from './constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const BlogContext = /*#__PURE__*/createContext();\nconst BlogContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [BlogState, dispatch] = useReducer(blogReducer, {\n    blogs: [],\n    blog: '',\n    blogs_by_cate: []\n  });\n\n  //Get all blogs\n  const getAllBlogs = async () => {\n    try {\n      const response = await axios.get(`${apiUrl}/blogs`);\n      if (response.data) {\n        console.log(\"data luu payload\", response.data.data.blogs);\n        dispatch({\n          type: 'BLOGS_LOAD_SUCCESS',\n          payload: response.data.data.blogs\n        });\n      }\n    } catch (error) {\n      dispatch({\n        type: 'BLOGS_LOAD_FAIL'\n      });\n    }\n  };\n\n  //add a new blog\n  const addNewBlog = async BlogForm => {\n    try {\n      let token = localStorage.getItem(LOCAL_STORAGE_TOKEN_NAME);\n      console.log(token);\n      const response = await axios.post(`${apiUrl}/blogs/create`, BlogForm, {\n        headers: {\n          \"Authorization\": token\n        }\n      });\n      console.log(\"data a new blog\", response);\n      if (response) dispatch({\n        type: 'ADD_NEW_BLOG',\n        payload: response\n      });\n      return response;\n    } catch (error) {\n      if (error.response.data) return error.response.data;else return {\n        success: false,\n        message: \"Server Error\"\n      };\n    }\n  };\n\n  //get a blog by category id\n  const getBlogByCateId = async _id => {\n    const response = await axios.get(`${apiUrl}`);\n    console.log(\"blog by cate: \", response);\n  };\n  const DeleteBlog = async _id => {\n    let token = localStorage.getItem(LOCAL_STORAGE_TOKEN_NAME);\n    const response = await axios.delete(`${apiUrl}/blogs/` + _id + `/delete`, {\n      headers: {\n        \"Authorization\": token\n      }\n    });\n    console.log(\"delete blog: \", response.data);\n    return response.data;\n  };\n  const BlogContextData = {\n    BlogState,\n    getAllBlogs,\n    addNewBlog,\n    getBlogByCateId,\n    DeleteBlog\n  };\n  return /*#__PURE__*/_jsxDEV(BlogContext.Provider, {\n    value: BlogContextData,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n};\n_s(BlogContextProvider, \"GYEkvxKTT4kwO7UrO5K+fvCVUso=\");\n_c = BlogContextProvider;\nexport default BlogContextProvider;\nvar _c;\n$RefreshReg$(_c, \"BlogContextProvider\");","map":{"version":3,"names":["React","useReducer","createContext","blogReducer","axios","apiUrl","LOCAL_STORAGE_TOKEN_NAME","jsxDEV","_jsxDEV","BlogContext","BlogContextProvider","_ref","_s","children","BlogState","dispatch","blogs","blog","blogs_by_cate","getAllBlogs","response","get","data","console","log","type","payload","error","addNewBlog","BlogForm","token","localStorage","getItem","post","headers","success","message","getBlogByCateId","_id","DeleteBlog","delete","BlogContextData","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/Web/FrontEnd/src/contexts/BlogContext.js"],"sourcesContent":["import React, { useReducer, createContext } from \"react\"\nimport { blogReducer } from '../reducers/blogReducer';\n//import { apiUrl, LOCAL_STORAGE_TOKEN_NAME } from \"./constants\";\nimport axios from \"axios\";\nimport { apiUrl, LOCAL_STORAGE_TOKEN_NAME } from './constants';\n\n\nexport const BlogContext = createContext()\nconst BlogContextProvider = ({ children }) => {\n    const [BlogState, dispatch] = useReducer(blogReducer, {\n        blogs: [],\n        blog: '',\n        blogs_by_cate: []\n    })\n\n    //Get all blogs\n    const getAllBlogs = async () => {\n        try {\n\n            const response = await axios.get(`${apiUrl}/blogs`)\n            if (response.data) {\n                console.log(\"data luu payload\", response.data.data.blogs)\n                dispatch({ type: 'BLOGS_LOAD_SUCCESS', payload: response.data.data.blogs })\n            }\n        } catch (error) {\n            dispatch({ type: 'BLOGS_LOAD_FAIL' })\n        }\n    }\n\n    //add a new blog\n    const addNewBlog = async BlogForm => {\n        try {\n            let token = localStorage.getItem(LOCAL_STORAGE_TOKEN_NAME)\n            console.log(token)\n            const response = await axios.post(`${apiUrl}/blogs/create`, BlogForm, {\n\n                headers: {\n                    \"Authorization\": token\n                }\n            })\n            console.log(\"data a new blog\", response)\n            if (response)\n                dispatch({ type: 'ADD_NEW_BLOG', payload: response })\n            return response\n        } catch (error) {\n            if (error.response.data)\n                return error.response.data\n            else return { success: false, message: \"Server Error\" }\n        }\n    }\n\n    //get a blog by category id\n    const getBlogByCateId = async (_id) => {\n        const response = await axios.get(`${apiUrl}`)\n        console.log(\"blog by cate: \", response)\n    }\n\n    const DeleteBlog = async (_id) => {\n        let token = localStorage.getItem(LOCAL_STORAGE_TOKEN_NAME)\n        const response = await axios.delete(`${apiUrl}/blogs/` + _id + `/delete`, {\n\n            headers: {\n                \"Authorization\": token\n            }\n        })\n        console.log(\"delete blog: \", response.data)\n        return response.data\n    }\n\n    const BlogContextData = { BlogState, getAllBlogs, addNewBlog, getBlogByCateId, DeleteBlog }\n\n    return (\n        <BlogContext.Provider value={BlogContextData} >\n            {children}\n        </BlogContext.Provider>\n    )\n}\n\nexport default BlogContextProvider"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}