{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\Web\\\\FrontEnd\\\\src\\\\contexts\\\\CategoryContext.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { createContext, useReducer } from \"react\";\nimport { categoryReducer } from '../reducers/categoryReducer';\nimport axios from \"axios\";\nimport { apiUrl } from './constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CategoryContext = /*#__PURE__*/createContext();\nconst CategoryContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [cateSate, dispatch] = useReducer(categoryReducer, {\n    categories: [],\n    categoriesLoading: true\n  });\n\n  //Get all departments\n  const getAllCategories = async () => {\n    try {\n      const response = await axios.get(`${apiUrl}/cate/getAllCategory`);\n      console.log('data', response.data.categories);\n      if (response.data.categories) {\n        console.log(\"data\", response.data.categories);\n        dispatch({\n          type: 'CATEGORIES_LOAD_SUCCESS',\n          payload: response.data.categories\n        });\n      }\n    } catch (error) {\n      dispatch({\n        type: 'CATEGORIES_LOAD_FAIL'\n      });\n    }\n  };\n  const addNewCate = async (cateForm, image) => {\n    try {\n      const response = await axios.post(`${apiUrl}/cate/addCate`, cateForm, image);\n      console.log(\"data\", response.data);\n      if (response.data) dispatch({\n        type: 'ADD_NEW_CATEGORY',\n        payload: response.data\n      });\n      return response.data;\n    } catch (error) {\n      if (error.response.data) return error.response.data;else return {\n        success: false,\n        message: \"Server Error\"\n      };\n    }\n  };\n  const updateCate = async (_id, cateForm) => {\n    const response = await axios.put(`${apiUrl}/cate/updateCategory/` + _id, cateForm);\n    console.log(\"update\", response);\n  };\n  const deleteCate = async _id => {\n    const response = await axios.delete(`${apiUrl}/cate/deleteCategory/` + _id);\n    console.log(\"delete res\", response);\n  };\n  const CategoryContextData = {\n    cateSate,\n    getAllCategories,\n    addNewCate,\n    updateCate,\n    deleteCate\n  };\n  return /*#__PURE__*/_jsxDEV(CategoryContext.Provider, {\n    value: CategoryContextData,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n};\n_s(CategoryContextProvider, \"HBgJFfrzvgF+PrAwibybXTq10lA=\");\n_c = CategoryContextProvider;\nexport default CategoryContextProvider;\nvar _c;\n$RefreshReg$(_c, \"CategoryContextProvider\");","map":{"version":3,"names":["React","createContext","useReducer","categoryReducer","axios","apiUrl","jsxDEV","_jsxDEV","CategoryContext","CategoryContextProvider","_ref","_s","children","cateSate","dispatch","categories","categoriesLoading","getAllCategories","response","get","console","log","data","type","payload","error","addNewCate","cateForm","image","post","success","message","updateCate","_id","put","deleteCate","delete","CategoryContextData","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Admin/Desktop/Web/FrontEnd/src/contexts/CategoryContext.js"],"sourcesContent":["import React from 'react'\nimport { createContext, useReducer } from \"react\";\nimport { categoryReducer } from '../reducers/categoryReducer';\nimport axios from \"axios\";\nimport { apiUrl } from './constants';\n\n\nexport const CategoryContext = createContext()\nconst CategoryContextProvider = ({ children }) => {\n    const [cateSate, dispatch] = useReducer(categoryReducer, {\n        categories: [],\n        categoriesLoading: true\n    })\n\n    //Get all departments\n    const getAllCategories = async () => {\n        try {\n            const response = await axios.get(`${apiUrl}/cate/getAllCategory`)\n            console.log('data', response.data.categories)\n            if (response.data.categories) {\n                console.log(\"data\", response.data.categories)\n                dispatch({ type: 'CATEGORIES_LOAD_SUCCESS', payload: response.data.categories })\n            }\n        } catch (error) {\n            dispatch({ type: 'CATEGORIES_LOAD_FAIL' })\n        }\n    }\n\n    const addNewCate = async (cateForm, image) => {\n        try {\n            const response = await axios.post(`${apiUrl}/cate/addCate`, cateForm, image)\n            console.log(\"data\", response.data)\n            if (response.data)\n                dispatch({ type: 'ADD_NEW_CATEGORY', payload: response.data })\n            return response.data\n        } catch (error) {\n            if (error.response.data)\n                return error.response.data\n            else return { success: false, message: \"Server Error\" }\n        }\n    }\n\n\n    const updateCate = async (_id, cateForm) => {\n        const response = await axios.put(`${apiUrl}/cate/updateCategory/` + _id, cateForm)\n        console.log(\"update\", response)\n    }\n\n    const deleteCate = async (_id) => {\n        const response = await axios.delete(`${apiUrl}/cate/deleteCategory/` + _id)\n        console.log(\"delete res\", response)\n    }\n    const CategoryContextData = { cateSate, getAllCategories, addNewCate, updateCate, deleteCate }\n\n    return (\n        <CategoryContext.Provider value={CategoryContextData} >\n            {children}\n        </CategoryContext.Provider>\n    )\n}\n\nexport default CategoryContextProvider"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}